{"ast":null,"code":"import _toConsumableArray from\"/Users/kissartisan/playground/learn/React/react-fundamentals/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/kissartisan/playground/learn/React/react-fundamentals/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/kissartisan/playground/learn/React/react-fundamentals/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// Rendering Lists\n// 💯 Focus Demo\n// http://localhost:3000/isolated/final/07.extra-1.js\nimport*as React from'react';function FocusDemo(){var _React$useState=React.useState([{id:'apple',value:'🍎 apple'},{id:'orange',value:'🍊 orange'},{id:'grape',value:'🍇 grape'},{id:'pear',value:'🍐 pear'}]),_React$useState2=_slicedToArray(_React$useState,2),items=_React$useState2[0],setItems=_React$useState2[1];React.useEffect(function(){var id=setInterval(function(){return setItems(shuffle);},1000);return function(){return clearInterval(id);};},[]);function getChangeHandler(item){return function(event){var newValue=event.target.value;setItems(function(allItems){return allItems.map(function(i){return _objectSpread(_objectSpread({},i),{},{value:i.id===item.id?newValue:i.value});});});};}return/*#__PURE__*/_jsxs(\"div\",{className:\"keys\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Without a key\"}),items.map(function(item){return/*#__PURE__*/_jsx(\"input\",{className:\"\".concat(item.id,\"-input\"),value:item.value,onChange:getChangeHandler(item)});})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"With array index as key\"}),items.map(function(item,index){return/*#__PURE__*/_jsx(\"input\",{className:\"\".concat(item.id,\"-input\"),value:item.value,onChange:getChangeHandler(item)},index);})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"With a Proper Key\"}),items.map(function(item){return/*#__PURE__*/_jsx(\"input\",{className:\"\".concat(item.id,\"-input\"),value:item.value,onChange:getChangeHandler(item)},item.id);})]})]});}function shuffle(originalArray){var array=_toConsumableArray(originalArray);var currentIndex=array.length;var temporaryValue;var randomIndex;// While there remain elements to shuffle...\nwhile(0!==currentIndex){// Pick a remaining element...\nrandomIndex=Math.floor(Math.random()*currentIndex);currentIndex-=1;// And swap it with the current element.\ntemporaryValue=array[currentIndex];array[currentIndex]=array[randomIndex];array[randomIndex]=temporaryValue;}return array;}function App(){return/*#__PURE__*/_jsx(FocusDemo,{});}export default App;","map":{"version":3,"sources":["/Users/kissartisan/playground/learn/React/react-fundamentals/src/final/07.extra-1.js"],"names":["React","FocusDemo","useState","id","value","items","setItems","useEffect","setInterval","shuffle","clearInterval","getChangeHandler","item","event","newValue","target","allItems","map","i","index","originalArray","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","App"],"mappings":"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","sourcesContent":["// Rendering Lists\n// 💯 Focus Demo\n// http://localhost:3000/isolated/final/07.extra-1.js\n\nimport * as React from 'react'\n\nfunction FocusDemo() {\n  const [items, setItems] = React.useState([\n    {id: 'apple', value: '🍎 apple'},\n    {id: 'orange', value: '🍊 orange'},\n    {id: 'grape', value: '🍇 grape'},\n    {id: 'pear', value: '🍐 pear'},\n  ])\n\n  React.useEffect(() => {\n    const id = setInterval(() => setItems(shuffle), 1000)\n    return () => clearInterval(id)\n  }, [])\n\n  function getChangeHandler(item) {\n    return event => {\n      const newValue = event.target.value\n      setItems(allItems =>\n        allItems.map(i => ({\n          ...i,\n          value: i.id === item.id ? newValue : i.value,\n        })),\n      )\n    }\n  }\n\n  return (\n    <div className=\"keys\">\n      <div>\n        <h1>Without a key</h1>\n        {items.map(item => (\n          <input\n            className={`${item.id}-input`}\n            value={item.value}\n            onChange={getChangeHandler(item)}\n          />\n        ))}\n      </div>\n      <div>\n        <h1>With array index as key</h1>\n        {items.map((item, index) => (\n          <input\n            className={`${item.id}-input`}\n            key={index}\n            value={item.value}\n            onChange={getChangeHandler(item)}\n          />\n        ))}\n      </div>\n      <div>\n        <h1>With a Proper Key</h1>\n        {items.map(item => (\n          <input\n            className={`${item.id}-input`}\n            key={item.id}\n            value={item.value}\n            onChange={getChangeHandler(item)}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nfunction shuffle(originalArray) {\n  const array = [...originalArray]\n  let currentIndex = array.length\n  let temporaryValue\n  let randomIndex\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex)\n    currentIndex -= 1\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex]\n    array[currentIndex] = array[randomIndex]\n    array[randomIndex] = temporaryValue\n  }\n  return array\n}\n\nfunction App() {\n  return <FocusDemo />\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}